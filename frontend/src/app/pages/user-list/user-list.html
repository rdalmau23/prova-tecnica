<div class="top-bar">
  <div class="export-buttons">
    <button (click)="downloadExcel()">Descarregar Excel</button>
    <button (click)="downloadPDF()">Descarregar PDF</button>
  </div>

  <div class="search-bar">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (ngModelChange)="filterUsers()"
      placeholder="Cerca per nom, cognom, email o DNI."
    />
  </div>
</div>

<table>
  <thead>
    <tr>
      <th (click)="sortBy('name')">Nom</th>
      <th (click)="sortBy('surname')">Cognoms</th>
      <th (click)="sortBy('email')">Email</th>
      <th (click)="sortBy('id')">DNI</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let user of filteredUsers" (click)="goToProfile(user.id)" class="clickable-row">
      <td>{{ user.name }}</td>
      <td>{{ user.surname }}</td>
      <td>{{ user.email }}</td>
      <td>{{ user.id }}</td>
    </tr>
  </tbody>
</table>
<div class="no-results" *ngIf="filteredUsers.length === 0">
  <p>No s'han trobat usuaris.</p>
</div>
<div class="pagination">
  <button (click)="previousPage()" [disabled]="currentPage === 1">Anterior</button>
  <span>Pàgina {{ currentPage }} de {{ totalPages }}</span>
  <button (click)="nextPage()" [disabled]="currentPage === totalPages">Següent</button>
</div>
<div class="user-count">
  <p>Total d'usuaris: {{ totalUsers }}</p>
</div>
